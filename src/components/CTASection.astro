---
import { Icon } from 'astro-icon/components';
---

<section id="download" class="section bg-gradient-to-r from-teal-600 to-cyan-600 text-white">
  <div class="max-w-4xl mx-auto text-center" data-cta-content>
    <h2 class="text-4xl md:text-5xl font-bold mb-6">Â¿Listo para vender tu propiedad?</h2>
    <p class="text-xl mb-8 text-teal-100">
      Descarga la app ahora y comienza a gestionar tus propiedades de forma profesional.
    </p>

    <div class="flex flex-wrap gap-4 justify-center">
      <a
        href="#"
        class="btn-dark inline-flex items-center gap-2 !bg-white !text-slate-900 hover:!bg-slate-100"
      >
        <Icon name="lucide:apple" class="w-5 h-5" />
        Descargar en App Store
      </a>
      <a
        href="#"
        class="btn-dark inline-flex items-center gap-2 !bg-white !text-slate-900 hover:!bg-slate-100"
      >
        <Icon name="lucide:play" class="w-5 h-5" />
        Obtener en Google Play
      </a>
    </div>

    <!-- QR Code placeholder (optional) -->
    <div class="mt-12 flex justify-center gap-8">
      <div class="text-center">
        <div class="w-32 h-32 bg-white rounded-2xl flex items-center justify-center mb-2">
          <Icon name="heroicons:qr-code" class="w-20 h-20 text-slate-900" />
        </div>
        <p class="text-sm text-teal-100">iOS</p>
      </div>
      <div class="text-center">
        <div class="w-32 h-32 bg-white rounded-2xl flex items-center justify-center mb-2">
          <Icon name="heroicons:qr-code" class="w-20 h-20 text-slate-900" />
        </div>
        <p class="text-sm text-teal-100">Android</p>
      </div>
    </div>
  </div>
</section>

<script>
  import gsap from 'gsap';
  import { ScrollTrigger } from 'gsap/ScrollTrigger';

  gsap.registerPlugin(ScrollTrigger);

  const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;

  if (!prefersReducedMotion) {
    gsap.from('[data-cta-content]', {
      scrollTrigger: {
        trigger: '[data-cta-content]',
        start: 'top 80%',
      },
      opacity: 0,
      y: 50,
      duration: 1,
      ease: 'power3.out',
    });
  }
</script>
